"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[5808],{97209:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>d,toc:()=>c});var i=r(74848),t=r(28453),s=r(11470),a=r(19365);const o={title:"Tips & Tricks",sidebar_position:3,description:"So f\xfchren Sie einen Autonomys Network Farmer mit der Substrate CLI aus",slug:"/farming/advanced-cli/tips",keywords:["Farmer","Farming","CLI","Binaries","Docker"]},l=void 0,d={id:"farming-&-staking/farming/advanced-cli/cli-tips",title:"Tips & Tricks",description:"So f\xfchren Sie einen Autonomys Network Farmer mit der Substrate CLI aus",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/farming-&-staking/farming/advanced-cli/cli-tips.mdx",sourceDirName:"farming-&-staking/farming/advanced-cli",slug:"/farming/advanced-cli/tips",permalink:"/de/farming/advanced-cli/tips",draft:!1,unlisted:!1,editUrl:"https://github.com/autonomys/subspace-docs/edit/main/docs/farming-&-staking/farming/advanced-cli/cli-tips.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Tips & Tricks",sidebar_position:3,description:"So f\xfchren Sie einen Autonomys Network Farmer mit der Substrate CLI aus",slug:"/farming/advanced-cli/tips",keywords:["Farmer","Farming","CLI","Binaries","Docker"]},sidebar:"tutorialSidebar",previous:{title:"Farming Cluster",permalink:"/de/farming/advanced-cli/cluster"},next:{title:"Taurus Network",permalink:"/de/farming/advanced-cli/taurus"}},u={},c=[{value:"Additional Tips",id:"additional-tips",level:2},{value:"Wechseln zu einem neuen Snapshot von \xe4lteren/anderen Versionen von Autonomous",id:"wechseln-zu-einem-neuen-snapshot-von-\xe4lterenanderen-versionen-von-autonomous",level:3},{value:"Wischen",id:"wischen",level:3},{value:"Verwendung mehrerer Festplatten",id:"verwendung-mehrerer-festplatten",level:3},{value:"Optimieren der DSN-Synchronisierung",id:"optimieren-der-dsn-synchronisierung",level:3},{value:"Empfohlene Parameter",id:"empfohlene-parameter",level:4},{value:"Hilfe",id:"hilfe",level:3},{value:"Einige zus\xe4tzliche Tipps f\xfcr Node, Farmer und Docker",id:"einige-zus\xe4tzliche-tipps-f\xfcr-node-farmer-und-docker",level:2},{value:"Parallelit\xe4t darstellen (nur CPU)",id:"parallelit\xe4t-darstellen-nur-cpu",level:3},{value:"Fehlende Farmen erstellen",id:"fehlende-farmen-erstellen",level:3},{value:"Lesemodus f\xfcr Datensatzbl\xf6cke",id:"lesemodus-f\xfcr-datensatzbl\xf6cke",level:3},{value:"Benchmarking f\xfcr Ihren Farmer",id:"benchmarking-f\xfcr-ihren-farmer",level:3},{value:"Dein Farmer wird zerschlagen",id:"dein-farmer-wird-zerschlagen",level:3},{value:"Genaue Anzahl der CPU-Kerne zum Plotten/Neuplotten angeben (nur CPU)",id:"genaue-anzahl-der-cpu-kerne-zum-plottenneuplotten-angeben-nur-cpu",level:3},{value:"Snap Sync",id:"snap-sync",level:3},{value:"Docker Wipe",id:"docker-wipe",level:3},{value:"Timekeepers",id:"timekeepers",level:2},{value:"Common Command Examples",id:"common-command-examples",level:3},{value:"NUMA Support",id:"numa-support",level:3},{value:"Enabling NUMA on Windows/Linux machines",id:"enabling-numa-on-windowslinux-machines",level:4},{value:"Changing number of open files limit (Linux)",id:"changing-number-of-open-files-limit-linux",level:4}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"additional-tips",children:"Additional Tips"}),"\n",(0,i.jsx)(n.p,{children:"Willkommen im Abschnitt \u201eZus\xe4tzliche Tipps\u201c! Egal, ob Sie ein erfahrener Landwirt sind oder gerade erst mit dem Autonomys Network beginnen, diese Tipps und Tricks sollen Ihre Erfahrung und Effizienz steigern. Hier gehen wir auf praktische Ratschl\xe4ge und weniger bekannte Techniken ein, die Ihnen dabei helfen sollen, Ihr landwirtschaftliches Setup zu optimieren und g\xe4ngige Herausforderungen mit Leichtigkeit zu meistern. Von der Konfiguration Ihrer Umgebung bis zur Verwaltung von Hintergrundprozessen sind diese Einblicke darauf zugeschnitten, einen reibungslosen und effektiven Betrieb Ihres Farmers sicherzustellen. Lassen Sie uns eintauchen und erkunden, wie Sie das Beste aus Ihrem Autonomous Network Farmer herausholen k\xf6nnen."}),"\n",(0,i.jsx)(n.h3,{id:"wechseln-zu-einem-neuen-snapshot-von-\xe4lterenanderen-versionen-von-autonomous",children:"Wechseln zu einem neuen Snapshot von \xe4lteren/anderen Versionen von Autonomous"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Sofern vom Entwicklungsteam nicht ausdr\xfccklich erw\xe4hnt, m\xfcssen Sie Ihre Konfiguration bei neuen Versionen ",(0,i.jsx)(n.strong,{children:"NICHT"})," l\xf6schen."]})}),"\n",(0,i.jsx)(n.p,{children:"Im Allgemeinen sollten Sie in der Lage sein, die neueste Version herunterzuladen und Node & Farmer mit denselben Befehlen neu zu starten, mit denen Sie die vorherige Version ohne Fehler gestartet haben."}),"\n",(0,i.jsxs)(n.p,{children:["In einigen F\xe4llen verursachen Versionsaktualisierungen Probleme mit Ihrem Node & Farmer und Sie m\xfcssen Ihren Node m\xf6glicherweise l\xf6schen, normalerweise wenn Fehler auftreten. Wenn Sie Probleme haben, k\xf6nnen Sie jederzeit in unseren ",(0,i.jsx)(n.a,{href:"https://forum.autonomys.xyz",children:"Foren"})," nachsehen und auf unserem ",(0,i.jsx)(n.a,{href:"https://autonomys.xyz/discord",children:"Discord"}),"-Server um Hilfe bitten."]}),"\n",(0,i.jsx)(n.h3,{id:"wischen",children:"Wischen"}),"\n",(0,i.jsx)(n.p,{children:"Wenn Sie zuvor einen Knoten ausgef\xfchrt haben und zu einem neuen Netzwerk wechseln m\xf6chten, f\xfchren Sie bitte diese Schritte aus und folgen Sie dann erneut der Anleitung:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Ersetzen Sie `FARMER_FILE_NAME` durch den Namen der Farmer-Datei, die Sie von Releases heruntergeladen haben\n./FARMER_FILE_NAME wipe PATH_TO_FARM\n# Ersetzen Sie `NODE_FILE_NAME` durch den Namen der Knotendatei, die Sie von Releases heruntergeladen haben\n./NODE_FILE_NAME wipe NODE_DATA_PATH\n"})}),"\n",(0,i.jsx)(n.p,{children:"Folgen Sie nun der Installationsanleitung von Anfang an."}),"\n",(0,i.jsx)(n.h3,{id:"verwendung-mehrerer-festplatten",children:"Verwendung mehrerer Festplatten"}),"\n",(0,i.jsx)(n.p,{children:"Um die Speicherkapazit\xe4t zu maximieren, k\xf6nnen Sie mehrere Festplatten direkt einbinden. Dies ist h\xe4ufig effizienter als das Verlassen auf RAID-Konfigurationen:"}),"\n",(0,i.jsx)(n.p,{children:"Beispiel:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell-session",children:"./FARMER_FILE_NAME farm --reward-address WALLET_ADDRESS \\\n    path=/media/ssd1,size=100GiB \\\n    path=/media/ssd2,size=10T \\\n    path=/media/ssd3,size=10T\n"})}),"\n",(0,i.jsx)(n.h3,{id:"optimieren-der-dsn-synchronisierung",children:"Optimieren der DSN-Synchronisierung"}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Das DSN kann ein heikles Thema sein. Um unser dezentrales Speichernetzwerk besser zu verstehen, lesen Sie bitte ",(0,i.jsx)(n.a,{href:"https://academy.autonomys.xyz/subspace-protocol/network-architecture/distributed-storage-network",children:"diesen Leitfaden"})," unserer Akademie."]})}),"\n",(0,i.jsx)(n.admonition,{title:"Mit Vorsicht zu verwendende Parameter",type:"warning",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"--out-peers\n--in-peers\n--dsn-target-connections\n--dsn-pending-in-connections\n--dsn-in-connections\n"})})}),"\n",(0,i.jsx)(n.h4,{id:"empfohlene-parameter",children:"Empfohlene Parameter"}),"\n",(0,i.jsxs)(n.p,{children:["Die Standardparameter werden unter Ber\xfccksichtigung der F\xe4higkeiten g\xe4ngiger Consumer-Modems/Router eingestellt. Durch Anpassen bestimmter Parameter kann die DSN-Synchronisierungsleistung durch Erh\xf6hung der Parallelit\xe4t verbessert werden. Wenn Sie sich jedoch zu einer deutlichen Erh\xf6hung entschlie\xdfen, stellen Sie sicher, dass Ihr Modem/Router leistungsf\xe4hig genug ist, um den erh\xf6hten Datenverkehr zu bew\xe4ltigen.\n",(0,i.jsx)(n.strong,{children:"Node:"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"--dsn-out-connections\n--dsn-pending-out-connections\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Farmer:"}),"\nEine Erh\xf6hung der Werte der Landwirt-Parameter k\xf6nnte die Plotgeschwindigkeit erh\xf6hen."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"--out-connections\n--pending-out-connections\n"})}),"\n",(0,i.jsx)(n.h3,{id:"hilfe",children:"Hilfe"}),"\n",(0,i.jsx)(n.p,{children:"Sowohl der Knoten als auch der Farmer verf\xfcgen \xfcber verschiedene Flags und Parameter. Um eine vollst\xe4ndige Liste anzuzeigen, h\xe4ngen Sie das Flag \u201e--help\u201c entweder an den Knoten oder den Farmer-Befehl an."}),"\n",(0,i.jsx)(n.h2,{id:"einige-zus\xe4tzliche-tipps-f\xfcr-node-farmer-und-docker",children:"Einige zus\xe4tzliche Tipps f\xfcr Node, Farmer und Docker"}),"\n",(0,i.jsxs)(s.A,{groupId:"component",children:[(0,i.jsxs)(a.A,{value:"farmer",label:"Farmer",children:[(0,i.jsx)(n.h3,{id:"parallelit\xe4t-darstellen-nur-cpu",children:"Parallelit\xe4t darstellen (nur CPU)"}),(0,i.jsx)(n.p,{children:"Beim Plotten gibt es sowohl parallele als auch sequentielle Teile der Tabellenerstellung. Durch die gleichzeitige Generierung mehrerer Tabellen k\xf6nnen wir die sequentiellen Teile mit parallelen Teilen \xfcberlappen und so die CPU-Auslastung verbessern. W\xe4hrend beim Generieren von Tabellen f\xfcr alle Datens\xe4tze viel Arbeitsspeicher ben\xf6tigt wird, bietet die gleichzeitige Erstellung von Tabellen f\xfcr jeweils nur wenige Datens\xe4tze ein optimales Gleichgewicht zwischen CPU- und RAM-Auslastung.\nWir haben die Option \u201e--cpu-record-encoding-concurrency\u201c hinzugef\xfcgt, um das Standardverhalten au\xdfer Kraft zu setzen, das einen Datensatz f\xfcr jeweils zwei Kerne zuweist, aber nicht mehr als acht parallel zuweist. Laut unseren internen Tests mit P-Kernen, E-Kernen und Kombinationen aus P+E-Kernen scheint diese Einstellung die Spitzenleistung zu erzielen.\nWenn Sie das vorherige Verhalten bevorzugen oder Ihre RAM-Auslastung zu hoch wird, k\xf6nnen Sie \u201e--cpu-record-encoding-concurrency\u201c auf \u201e1\u201c setzen. Sie k\xf6nnen auch mit der Einstellung \u201e2\u201c, \u201e3\u201c usw. experimentieren, was je nach Ihrer spezifischen CPU-/RAM-Konfiguration zu besseren Ergebnissen f\xfchren kann.\nFeedback"}),(0,i.jsx)(n.h3,{id:"fehlende-farmen-erstellen",children:"Fehlende Farmen erstellen"}),(0,i.jsx)(n.p,{children:"Ein Farmer hat die M\xf6glichkeit anzugeben, ob das System fehlende Farmen beim Start automatisch erstellen soll. Wenn Sie einen Pfad zu einem Grundst\xfcck angeben, das nicht gefunden wird, generiert das System einen neuen. Dies ist jedoch m\xf6glicherweise nicht w\xfcnschenswert, wenn ein Laufwerk nicht ordnungsgem\xe4\xdf gemountet wird.\nStandardm\xe4\xdfig ist diese Option auf \u201etrue\u201c gesetzt, Sie k\xf6nnen sie jedoch \xfcberschreiben, indem Sie \u201e--create false\u201c hinzuf\xfcgen. Wenn Sie dieses Flag nach dem Erstellen Ihrer Diagramme auf \u201efalse\u201c setzen, k\xf6nnen Sie unbeabsichtigtes Schreiben von Dateien auf das falsche Laufwerk verhindern."}),(0,i.jsx)(n.h3,{id:"lesemodus-f\xfcr-datensatzbl\xf6cke",children:"Lesemodus f\xfcr Datensatzbl\xf6cke"}),(0,i.jsxs)(n.p,{children:["Beim Start wird jede Farm die Leistung jedes einzelnen Grundst\xfccks ",(0,i.jsx)(n.a,{href:"#benchmarking-your-farmer",children:"benchmarkieren"}),", um die effizienteste Pr\xfcfmethode zu ermitteln, die entweder ",(0,i.jsx)(n.code,{children:"ConcurrentChunks"}),"- oder ",(0,i.jsx)(n.code,{children:"WholeSector"}),"-Ergebnisse liefert. Wenn Sie die optimale Methode f\xfcr Ihr Setup bereits kennen, k\xf6nnen Sie sie als Argument f\xfcr jede Farm angeben, um beim Benchmarking Zeit zu sparen.\nBeispielsweise k\xf6nnen Sie \u201erecord-chunks-mode=\u201c einschlie\xdfen, nachdem Sie den Pfad und die Gr\xf6\xdfe definiert und den gew\xfcnschten Wert zugewiesen haben, z. B. \u201epath=/mnt/subspace1,size=100G,record-chunks-mode=ConcurrentChunks\u201c. Wenn Sie diesen Parameter nicht angeben, f\xfchrt das System beim Start einen Benchmarking-Test f\xfcr jede Festplatte durch, um die effizienteste Methode zu ermitteln."]}),(0,i.jsx)(n.h3,{id:"benchmarking-f\xfcr-ihren-farmer",children:"Benchmarking f\xfcr Ihren Farmer"}),(0,i.jsx)(n.p,{children:"Durch Benchmarking k\xf6nnen Sie die Plotgeschwindigkeit Ihres Farmers mit verschiedenen Versionen des Autonomys Network vergleichen."}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"./subspace-farmer benchmark audit /path/to/your/plot\n"})}),(0,i.jsx)(n.p,{children:"Ersetzen Sie /Pfad/zu/Ihrem/Plot durch den tats\xe4chlichen Pfad zu Ihrem Plot. Dadurch erhalten Sie Messwerte und Einblicke in die Plotleistung."}),(0,i.jsx)(n.p,{children:"Derzeit unterst\xfctzt Autonomys Node den \u201eRayon\u201c-Implementierungsmechanismus, der Dateien so oft \xf6ffnet, wie Farming-Threads vorhanden sind, und f\xfcr jeden Thread einen dedizierten Datei-Handle verwendet."}),(0,i.jsx)(n.p,{children:"To interpret the results: typically, you assess throughput to determine the maximum auditable size across any number of disks. Sowohl die CPU- als auch die Festplattenleistung beeinflussen diese Metrik."}),(0,i.jsxs)(n.p,{children:["Um mehr \xfcber Audit-Benchmarking zu erfahren, ",(0,i.jsx)(n.a,{href:"https://forum.autonomys.xyz/t/audit-benchmark-result-explanation-please/2149",children:"lesen Sie diesen Forenbeitrag"}),"."]}),(0,i.jsx)(n.p,{children:"Dazu steht Ihnen ein zweiter Befehl zur Verf\xfcgung, mit dessen Hilfe Sie ermitteln k\xf6nnen, wie viel Zeit Ihrem Landwirt nach der Pr\xfcfung f\xfcr die Erbringung der Nachweise bleibt."}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"./subspace-farmer benchmark prove /path/to/your/plot\n"})}),(0,i.jsx)(n.p,{children:"Jedem Farmer stehen f\xfcr die Pr\xfcfung und den Nachweis etwa 4 Sekunden zur Verf\xfcgung. Je nachdem, wie schnell die Pr\xfcfung erfolgt, wird die verbleibende Zeit f\xfcr den Nachweis genutzt.\nDer Nachweis der Leistung h\xe4ngt nicht von der Grundst\xfccksgr\xf6\xdfe ab."}),(0,i.jsx)(n.p,{children:"Wenn in einer Umgebung nicht gen\xfcgend Zeit f\xfcr den Pr\xfcfschritt zur Verf\xfcgung steht, wird vom Farmer eine Meldung wie diese protokolliert:"}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"Der Nachweis der L\xf6sung wurde aufgrund des Zeitlimits f\xfcr die Landwirtschaft \xfcbersprungen slot=6723846 sector_index=46"})}),(0,i.jsxs)(n.p,{children:["Um mehr \xfcber Benchmarking zu erfahren, ",(0,i.jsx)(n.a,{href:"https://forum.autonomys.xyz/t/audit-benchmark-result-explanation-please/2150",children:"lesen Sie diesen Forenbeitrag"}),"."]}),(0,i.jsx)(n.h3,{id:"dein-farmer-wird-zerschlagen",children:"Dein Farmer wird zerschlagen"}),(0,i.jsx)(n.p,{children:"In bestimmten Situationen, insbesondere wenn der Farmer unerwartet beendet wird oder ein Fehler auftritt, kann der Neustart m\xf6glicherweise nicht ordnungsgem\xe4\xdf durchgef\xfchrt werden. Der Zerschlagen-Befehl unterst\xfctzt bei der L\xf6sung solcher Probleme, indem er das angegebene Diagramm bereinigt oder zur\xfccksetzt."}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"./subspace-farmer scrub /path/to/your/plot\n"})}),(0,i.jsx)(n.p,{children:"Stellen Sie sicher, dass Sie /path/to/your/plot durch Ihren tats\xe4chlichen Plot-Pfad ersetzen. Verwenden Sie diesen Befehl mit Vorsicht, da er den Plotstatus zur Behebung von Fehlern \xe4ndert."}),(0,i.jsx)(n.h3,{id:"genaue-anzahl-der-cpu-kerne-zum-plottenneuplotten-angeben-nur-cpu",children:"Genaue Anzahl der CPU-Kerne zum Plotten/Neuplotten angeben (nur CPU)"}),(0,i.jsxs)(n.p,{children:["Diese Option \xfcberschreibt jegliche benutzerdefinierte Logik, die der ",(0,i.jsx)(n.strong,{children:"Subspace Farmer"})," andernfalls verwenden k\xf6nnte.\nSie k\xf6nnen die zu plottenden CPU-Kerne angeben, indem Sie \u201e--cpu-plotting-cores\u201c hinzuf\xfcgen, gefolgt von den gew\xfcnschten Kernparametern. Kerne sollten als durch Kommas getrennte Werte aufgelistet werden, wobei Leerzeichen verwendet werden, um verschiedene Thread-Pools oder Codierungsinstanzen zu trennen.\nBeispielsweise f\xfchrt ",(0,i.jsx)(n.code,{children:"--cpu-plotting-cores 0,1 2,3"})," dazu, dass zwei Sektoren gleichzeitig codiert werden, wobei jeder ein Paar CPU-Kerne verwendet."]}),(0,i.jsxs)(n.p,{children:["Similarly, you can customize the replotting CPU cores using ",(0,i.jsx)(n.code,{children:"--cpu-replotting-cores"}),", followed by arguments similar to those used in the ",(0,i.jsx)(n.code,{children:"--cpu-plotting-cores"})," example above."]}),(0,i.jsxs)(n.p,{children:["Note that setting ",(0,i.jsx)(n.code,{children:"--cpu-plotting-cores"})," requires ",(0,i.jsx)(n.code,{children:"--cpu-replotting-cores"})," to be configured with the same number of CPU core groups. If the ",(0,i.jsx)(n.code,{children:"--cpu-replotting-cores"})," setting is omitted, the node will default to using the same thread pool as for plotting."]})]}),(0,i.jsxs)(a.A,{value:"node",label:"Node",children:[(0,i.jsx)(n.h3,{id:"snap-sync",children:"Snap Sync"}),(0,i.jsx)(n.p,{children:"Snap Sync works by jumping to near the end of the chain, allowing you to sync to the current block more quickly. Once the initial jump is complete, it behaves like a full sync. In fact, if you haven't synced for more than a few days, it might be quicker to remove the node database and let Snap Sync quickly sync to the most current block."}),(0,i.jsxs)(n.p,{children:["There are cases where you might not want to use Snap Sync. To perform a full sync you can either omit the sync parameter, or use ",(0,i.jsx)(n.code,{children:"--sync full"}),". This is useful if you want to run an RPC node for public use, become an operator or indexing. In that case, you would need to run an archival node, not just a pruned node. An archival node requires a full sync."]})]}),(0,i.jsxs)(a.A,{value:"docker",label:"Docker",children:[(0,i.jsx)(n.h3,{id:"docker-wipe",children:"Docker Wipe"}),(0,i.jsxs)(n.p,{children:["In case of Docker setup run ",(0,i.jsx)(n.code,{children:"docker compose down -v"})," (and manually delete custom directories if you have specified them)."]}),(0,i.jsx)(n.p,{children:"Now follow the installation guide."}),(0,i.jsx)(n.p,{children:"If you are having issues with running a node or farmer for Autonomys, feel free to join our Discord or even better you can take a look at our forums and review existing questions or post a new one if needed!"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://forum.autonomys.xyz",children:"Forum"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://autonomys.xyz/discord",children:"Discord"})}),"\n"]})]})]}),"\n",(0,i.jsx)(n.p,{children:"--- "}),"\n",(0,i.jsx)(n.h2,{id:"timekeepers",children:"Timekeepers"}),"\n",(0,i.jsx)(n.p,{children:"Gemini-3g introduces Proof-of-Time and a new, optional role has been added to the node. Timekeepers help run PoT to ensure the security of the network. Timekeeping requires a high-performance core CPU but can be undertaken by any node runner. You can enable timekeeping with the following commands."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--timekeeper"}),": To enable timekeeping on the node"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--timekeeper-cpu-cores"}),": To specify which cores the Timekeeper will run on."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Read more about ",(0,i.jsx)(n.a,{href:"/farming/timekeeper",children:"Timekeepers"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"common-command-examples",children:"Common Command Examples"}),"\n",(0,i.jsx)(n.p,{children:"For both the node and the farmer, here are some frequently used commands:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Display farm information: ",(0,i.jsx)(n.code,{children:"./FARMER_FILE_NAME info PATH_TO_FARM"})]}),"\n",(0,i.jsxs)(n.li,{children:["Scrub the farm for errors: ",(0,i.jsx)(n.code,{children:"./FARMER_FILE_NAME scrub PATH_TO_FARM"})]}),"\n",(0,i.jsxs)(n.li,{children:["Erase all farmer-related data: ",(0,i.jsx)(n.code,{children:"./FARMER_FILE_NAME wipe PATH_TO_FARM"})]}),"\n",(0,i.jsxs)(n.li,{children:["Erase all node-related data: ",(0,i.jsx)(n.code,{children:"./NODE_FILE_NAME wipe NODE_DATA_PATH"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"--- "}),"\n",(0,i.jsx)(n.h3,{id:"numa-support",children:"NUMA Support"}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"NUMA support will benefit farmers with large, powerful CPUs and lots of RAM available. The required RAM amount depends on the processor and the number of threads.\\"})}),"\n",(0,i.jsx)(n.p,{children:"Previously plotting/replotting thread pools were created for each farm separately even though only a configured number of them can be used at a time (by default just one).\nWith the introduction of NUMA support, the farmer application has a thread pool manager that will create a necessary number of thread pools that will be allocated to currently plotting/replotting farms.\nWhen a thread pool is created, it is assigned to a set of CPU cores and will only be able to use those cores. Pinning doesn\u2019t pin threads to cores 1:1, instead, the OS is free to move threads between cores, but only within CPU cores allocated for the thread pool. This will ensure plotting for a particular sector only happens on a particular CPU/NUMA node."}),"\n",(0,i.jsx)(n.h4,{id:"enabling-numa-on-windowslinux-machines",children:"Enabling NUMA on Windows/Linux machines"}),"\n",(0,i.jsxs)(n.p,{children:["On Linux and Windows, the farmer will detect NUMA systems and create a number of thread pools that correspond to the number of NUMA nodes. This means the default behavior will change for large CPUs and consume more memory as a result, but that can be changed to the previous behavior with CLI options if desired.\nTo use NUMA, you need to enable it via the BIOS of your motherboard for the farmer to know it exists. This option is present in motherboards for ",(0,i.jsx)(n.strong,{children:"Threadripper/Epyc processors"})," but might exist in others too. If you don\u2019t enable it, both OS and farmer will think you have a single UMA processor and will not be able to apply optimizations."]}),"\n",(0,i.jsxs)(n.p,{children:["To read more about NUMA support and the benefits it provides for large CPUs read ",(0,i.jsx)(n.a,{href:"https://forum.autonomys.xyz/t/numa-support-is-coming/2299?u=nazar-pc",children:"this forum post"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"changing-number-of-open-files-limit-linux",children:"Changing number of open files limit (Linux)"}),"\n",(0,i.jsx)(n.p,{children:"Changing the number of open files limit on Linux is sometimes necessary for both system and application performance tuning. Applications that manage file sharing or distribution, including peer-to-peer systems, may require opening numerous connections to different peers simultaneously. A higher open files limit allows these applications to maintain more connections, improving data transfer rates and system efficiency."}),"\n",(0,i.jsxs)(n.p,{children:["This can also help to mitigate the ",(0,i.jsx)(n.code,{children:"Too Many Open Files"})," error."]}),"\n",(0,i.jsxs)(n.p,{children:["You can use the ",(0,i.jsx)(n.code,{children:"ulimit"})," command to change the limit for open files temporarily. For example, setting ",(0,i.jsx)(n.code,{children:"ulimit -n 2048"})," will set the limit to 2048. This change is reverted after logging out or a reboot."]}),"\n",(0,i.jsx)(n.p,{children:"For a permanent change, you have two approaches:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["To modify the kernel parameter ",(0,i.jsx)(n.code,{children:"fs.file-max"}),". You can do this using the ",(0,i.jsx)(n.code,{children:"sysctl"})," command ",(0,i.jsx)(n.code,{children:"sysctl -w fs.file-max=500000"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["To set limits for individual users, you need to edit the ",(0,i.jsx)(n.code,{children:"/etc/security/limits.conf"})," file. You can specify hard and soft limits for the number of open files ",(0,i.jsx)(n.code,{children:"username soft nofile 10000"})," for the soft limit and ",(0,i.jsx)(n.code,{children:"username hard nofile 30000"})," for the hard limit."]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},19365:(e,n,r)=>{r.d(n,{A:()=>a});r(96540);var i=r(18215);const t={tabItem:"tabItem_Ymn6"};var s=r(74848);function a(e){let{children:n,hidden:r,className:a}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(t.tabItem,a),hidden:r,children:n})}},11470:(e,n,r)=>{r.d(n,{A:()=>k});var i=r(96540),t=r(18215),s=r(23104),a=r(56347),o=r(205),l=r(57485),d=r(31682),u=r(70679);function c(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:r}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return c(e).map((e=>{let{props:{value:n,label:r,attributes:i,default:t}}=e;return{value:n,label:r,attributes:i,default:t}}))}(r);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function m(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:r}=e;const t=(0,a.W6)(),s=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,l.aZ)(s),(0,i.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(t.location.search);n.set(s,e),t.replace({...t.location,search:n.toString()})}),[s,t])]}function f(e){const{defaultValue:n,queryString:r=!1,groupId:t}=e,s=h(e),[a,l]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=r.find((e=>e.default))??r[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s}))),[d,c]=p({queryString:r,groupId:t}),[f,g]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,s]=(0,u.Dv)(r);return[t,(0,i.useCallback)((e=>{r&&s.set(e)}),[r,s])]}({groupId:t}),b=(()=>{const e=d??f;return m({value:e,tabValues:s})?e:null})();(0,o.A)((()=>{b&&l(b)}),[b]);return{selectedValue:a,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),c(e),g(e)}),[c,g,s]),tabValues:s}}var g=r(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=r(74848);function w(e){let{className:n,block:r,selectedValue:i,selectValue:a,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.a_)(),u=e=>{const n=e.currentTarget,r=l.indexOf(n),t=o[r].value;t!==i&&(d(n),a(t))},c=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":r},n),children:o.map((e=>{let{value:n,label:r,attributes:s}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>l.push(e),onKeyDown:c,onClick:u,...s,className:(0,t.A)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":i===n}),children:r??n},n)}))})}function j(e){let{lazy:n,children:r,selectedValue:s}=e;const a=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===s));return e?(0,i.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function v(e){const n=f(e);return(0,x.jsxs)("div",{className:(0,t.A)("tabs-container",b.tabList),children:[(0,x.jsx)(w,{...n,...e}),(0,x.jsx)(j,{...n,...e})]})}function k(e){const n=(0,g.A)();return(0,x.jsx)(v,{...e,children:c(e.children)},String(n))}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var i=r(96540);const t={},s=i.createContext(t);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);