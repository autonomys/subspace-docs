import styles from '@site/src/pages/index.module.css';

import Card from '@site/src/components/Card';
import CardBody from '@site/src/components/Card/CardBody';
import CardFooter from '@site/src/components/Card/CardFooter';
import CardHeader from '@site/src/components/Card/CardHeader';
import CardImage from '@site/src/components/Card/CardImage';
import Column from '@site/src/components/Column';
import Columns from '@site/src/components/Columns';

<br />
### Step 1: Download Executables {#download-binaries}
---

<br />
<Columns>
  <Column>
    <Card>
      <CardBody
      style={{ backgroundColor: '#2f4861', color: 'black' }}
      className="padding-vert--md"
      textAlign="center"
      transform="uppercase"
      >
      <h3>Node Executables</h3>
      </CardBody>
      <CardFooter
      style={{ backgroundColor: '#416384', color: 'black' }}
      className="text--center"
      >
      <div className="button-group button-group--block">
        <a href="https://github.com/autonomys/subspace/releases/download/taurus-2024-nov-05/subspace-node-windows-x86_64-skylake-taurus-2024-nov-05.exe" className="button button--secondary">Skylake+ ¬π</a>
        <a href="https://github.com/autonomys/subspace/releases/download/taurus-2024-nov-05/subspace-node-windows-x86_64-v2-taurus-2024-nov-05.exe" className="button button--secondary">Legacy ¬≤</a>
      </div>
      </CardFooter>
    </Card>
    <br />
  </Column>
  <Column>
    <Card>
      <CardBody
      style={{ backgroundColor: '#644f2f', color: 'black' }}
      className="padding-vert--md"
      textAlign="center"
      transform="uppercase"
      >
      <h3>Farmer Executables</h3>
      </CardBody>
      <CardFooter
      style={{ backgroundColor: '#896c40', color: 'black' }}
      className="text--center"
      >
      <div className="button-group button-group--block">
        <a href="https://github.com/autonomys/subspace/releases/download/taurus-2024-nov-05/subspace-farmer-windows-x86_64-skylake-taurus-2024-nov-05.exe" className="button button--secondary">Skylake+ ¬π</a>
        <a href="https://github.com/autonomys/subspace/releases/download/taurus-2024-nov-05/subspace-farmer-windows-x86_64-v2-taurus-2024-nov-05.exe" className="button button--secondary">Legacy ¬≤</a>
      </div>
      </CardFooter>
    </Card>
  </Column>
</Columns>

<small>
  <ol>
    <li><strong>Skylake+</strong> Optimized for Intel Skylake and newer CPUs, including AMD Ryzen. Best for systems from 2015 onward.</li>
    <li><strong>Legacy (x86-64-v2)</strong> Compatible with Intel Broadwell, Haswell, and older CPUs, as well as AMD equivalents. Ideal for systems from 2009 to 2015 or virtual environments lacking Skylake support.</li>
  </ol>
</small>

## Step 2: Prerequisites
---

:::tip Available Parameters

A complete list of parameters and their functions can be obtained using the `--help` option with both `subspace-node` and `subspace-farmer`.

:::

:::tip  Windows No Output Bug

If you face an error where the node outputs nothing and no error code is given it is likely you just need to install the latest Visual C++ Redistributable package [here](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170)

:::

:::tip Windows Defender Firewall

A **Windows Defender Firewall has blocked some features of this app** warning may appear when the application attempts to access the internet. This is expected, as the farmer needs to communicate with other farmers on the network. To proceed with the setup, simply select **Allow access**.

:::

:::info Substrate Address Needed

To use this software, you need a Substrate wallet address. For assistance in creating a Substrate wallet, refer to our guides for ‚ú® [SubWallet](/wallets/subwallet) or [Polkadot.js](/wallets/polkadot).

If you have a previous wallet address that starts with `st`, you can still use it, or you can transform it to the new `su` prefix. You can convert your existing wallet address using the tool available at [ss58.org](https://ss58.org). Previously, our testnets used the prefix `2254`, while the Taurus testnet and Autonomys mainnet use the prefix `6094`.

:::

:::info Farm Location Guidance

To avoid running out of space on your operating system or node database drive, it's recommended to store your plots on a separate drive. 

If you choose to use the same drive for plots and the node database, make sure to leave at least 60 GiB of free space for node database growth. This helps ensure that you have enough space for both system operations and node functionality.

:::

## Step 3: Start Advanced CLI Node
---

1. Open **PowerShell** as we do not recommend using Command Prompt because its syntax differs slightly.

2. Open your terminal and navigate to the folder where you downloaded the binaries.<br />For example, if you downloaded them to **Downloads**, use:
    ```powershell
    cd Downloads
    ```

3. We will then start the node using the following command:

    :::tip Mandatory Paramaters

    --base-path and --chain are mandatory.

    :::

    ```powershell title="üí° Highlighted lines require parameter updates."
    # Replace `<YOUR_NODE_NAME>` with a nickname you choose
    # Copy all of the lines below, they are all part of the same command
    .\subspace-node-windows-x86_64-skylake-taurus-2024-nov-05.exe `
      run `
      --chain taurus `
      # highlight-start
      --base-path <NODE_DATA_PATH> `
      --name <YOUR_NODE_NAME> `
      # highlight-end
      --farmer
    ```

4. You should see similar output when starting your node:

    ```text
    2024-09-04T06:42:56.744203Z  INFO subspace_node::commands::run: Subspace
    2024-09-04T06:42:56.744231Z  INFO subspace_node::commands::run: ‚úåÔ∏è  version 0.1.0-5c484f36890
    2024-09-04T06:42:56.744235Z  INFO subspace_node::commands::run: ‚ù§Ô∏è  by Subspace Labs <https://subspace.network>
    2024-09-04T06:42:56.744238Z  INFO subspace_node::commands::run: üìã Chain specification: Subspace Taurus Testnet
    2024-09-04T06:42:56.744241Z  INFO subspace_node::commands::run: üè∑  Node name: cool-farmer-name
    2024-09-04T06:42:56.744243Z  INFO subspace_node::commands::run: üíæ Node path: C:\Users\X\AppData\Local\autonomys\db
    2024-09-04T06:43:00.165801Z  INFO Consensus: subspace_networking::constructor: DSN instance configured. allow_non_global_addresses_in_dht=false peer_id=12D3KooWB>
    2024-09-04T06:43:00.166299Z  INFO Consensus: libp2p_swarm: local_peer_id=12D3KooWB6VSys21gqsCGxVKkjYXk8kpoyTCkp5ogcncmMFFsaN1
    2024-09-04T06:43:00.166467Z  INFO Consensus: subspace_service: Subspace networking initialized: Node ID is 12D3KooWB6VSys21gqsCGxVKkjYXk8kpoyTCkp5ogcncmMFFsaN1
    2024-09-04T06:43:00.167026Z  INFO Consensus: block_relay: relay::consensus block server: starting
    2024-09-04T06:43:00.167401Z  INFO Consensus: sub-libp2p: üè∑  Local node identity is: 12D3KooWBAutonomys
    2024-09-04T06:43:00.174544Z  INFO Consensus: sc_consensus_subspace::archiver: Resuming archiver from last archived block last_archived_block_number=3124818
    2024-09-04T06:43:00.174699Z  INFO Consensus: sc_consensus_subspace::archiver: Archiving already produced blocks 3124819..=3131493
    2024-09-04T06:43:00.176495Z  INFO Consensus: subspace_service: DSN listening on /ip4/192.168.0.101/tcp/30333/p2p/12D3KooWB6VSys21gqsCGxVKkjYXk8kpoyTCkp5ogcncmMFFsaN1
    2024-09-04T06:43:00.190399Z  INFO Consensus: subspace_service::task_spawner: üì¶ Highest known block at #3131593
    2024-09-04T06:43:00.191139Z  INFO Consensus: sc_rpc_server: Running JSON-RPC server: addr=0.0.0.0:9944, allowed origins=["*"]
    2024-09-04T06:43:00.192353Z  INFO actix_server::builder: starting 2 workers
    2024-09-04T06:43:00.192448Z  INFO actix_server::server: Tokio runtime found; starting in existing Tokio runtime
    2024-09-04T06:43:00.658988Z  INFO Consensus: sub-libp2p: üîç Discovered new external address for our node: /ip4/1.2.3.4/tcp/30333/p2p/12D3KooWB6VSys21gqsCGxVKkjYXk8kpoyTCkp5ogcncmMFFsaN1
    2024-09-04T06:43:02.172777Z  INFO Consensus: subspace_service::sync_from_dsn: Received notification to sync from DSN reason=WentOnlineSubstrate
    2024-09-04T06:43:05.192676Z  INFO Consensus: substrate: üí§ Idle (6 peers), best: #3131593 (0xb29f‚Ä¶c04e), finalized #3063319 (0x366a‚Ä¶fd89), ‚¨á 13.7kiB/s ‚¨Ü 5.2kiB/s
    2024-09-04T06:43:10.193308Z  INFO Consensus: substrate: üí§ Idle (10 peers), best: #3131593 (0xb29f‚Ä¶c04e), finalized #3063319 (0x366a‚Ä¶fd89), ‚¨á 34.8kiB/s ‚¨Ü 3.6kiB/s
    2024-09-04T06:43:40.197094Z  INFO Consensus: substrate: ‚öôÔ∏è  Preparing  0.0 bps, target=#3131599 (21 peers), best: #3131616 (0xb29f‚Ä¶c04e), finalized #3063319 (0x366a‚Ä¶fd89), ‚¨á 53.9kiB/s ‚¨Ü 10.5kiB/s
    2024-09-04T06:43:45.197731Z  INFO Consensus: substrate: ‚öôÔ∏è  Preparing  0.0 bps, target=#3131600 (22 peers), best: #3131616 (0xb29f‚Ä¶c04e), finalized #3063319 (0x366a‚Ä¶fd89), ‚¨á 29.5kiB/s ‚¨Ü 9.7kiB/s
    2024-09-04T06:43:46.197731Z  INFO Consensus: substrate: üèÜ Imported #3131616 (0xe5c6‚Ä¶c82e ‚Üí 0x6bae‚Ä¶d56d)
    2024-09-04T06:44:46.197731Z  INFO Consensus: substrate: üí§ Idle (40 peers), best: #3131617 (0x4b91‚Ä¶1060), finalized #3063319 (0x366a‚Ä¶fd89), ‚¨á 225.3kiB/s ‚¨Ü 23.9kiB/s
    ```




## Step 4: Start the Advanced CLI Farmer
---

1. We will then open another terminal, change to the downloads directory as we did before, then start the farmer node with the following command:
    ```PowerShell
      # Replace `PATH_TO_FARM` with location where you want you store plot files
      # Replace `WALLET_ADDRESS` below with your account address from Polkadot.js wallet
      # Replace `PLOT_SIZE` with plot size in gigabytes or terabytes, for example 100G or 2T (but leave at least 60G of disk space for node and some for OS)
      .\subspace-node-windows-x86_64-v2-taurus-2024-nov-05.exe farm --reward-address WALLET_ADDRESS path=PATH_TO_FARM,size=PLOT_SIZE
    ```

2. You should see something similar in the terminal:
    ```text
    2022-06-02T00:02:04.552120Z  INFO subspace_farmer::commands::farm: Connecting to node at ws://127.0.0.1:9944
    2022-06-02T00:02:04.557220Z  INFO jsonrpsee_client_transport::ws: Connection established to target: Target { sockaddrs: [], host: "127.0.0.1", host_header: "127.0.0.1:9944", _mode: Plain, path_and_query: "/" }
    2022-06-02T00:02:04.575669Z  INFO subspace_farmer::commands::farm: Opening object mapping
    2022-06-02T00:02:04.617553Z  INFO subspace_farmer::multi_farming: Opening plot
    2022-06-02T00:02:04.645422Z  INFO subspace_farmer::multi_farming: Opening commitments
    2022-06-02T00:02:04.666925Z  INFO subspace_farmer::farming: Subscribing to slot info notifications
    2022-06-02T00:02:04.688218Z  INFO subspace_farmer::archiving: Subscribing to archived segments
    2022-06-02T00:02:04.689129Z  INFO subspace_farmer::commands::farm: WS RPC server listening on 127.0.0.1:9955
    2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=0
    2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=1
    2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=2
    2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=3
    2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=4
    2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=5
    ```